package school.database.util;

import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class EmailValidation {

	// Requirements:
	// 1) not empty & not null
	// 2) has an @ in it
	// 3) has only letter or numbers before the @
	// 4) ends with a "." and 3 characters with no numbers
	// return true if all conditions pass & false otherwise (check negatives first)
	public boolean isValidEMail(String email) {

		String[] prefix = email.split("@");
		Pattern p = Pattern.compile("[^A-Za-z0-9]");
		// takes care of requirements 1 & 2
		if (email.isEmpty() || email == null || !email.contains("@")) {
			return false;
		}

		String[] prefix = email.split("@");
		Pattern p = Pattern.compile("[^A-Za-z0-9]");
		Matcher m = p.matcher(prefix[0]);
		if (m.find()) { 
			// if m.find is true, there is a special character & 
			// therefore the email is invalid
			return false;
		}

		return true;
	}
}
